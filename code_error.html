<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BrySpark - Prof of Concept by Bryan Wengren</title>
    <link rel="stylesheet" href="css/app.css" />
    <script src="bower_components/modernizr/modernizr.js"></script>
  </head>

  <body>

    <!-- Main navigation -->
    <div class="fixed">
      <nav class="top-bar" data-topbar>
        
        <ul class="title-area">
          <li class="name">
            <h1>
              <a href="/folio_bsw">
                <span class="title">BrySpark&reg;</span>
                <small>v1.0.0</small>&nbsp;&nbsp;
                <span class="white">Proof of Concept</span>
              </a>
            </h1>
          </li>
        </ul>

        <!-- Right Nav -->
        <section class="top-bar-section">
          <ul class="right">
            <li class="divider"></li>
            <li><a href="javascript:;"  data-reveal-id="user_settings">
              <span class="icon-cog"></span>John Smith</a>
            </li>
            <li class="divider"></li>
            <li><a href="javascript:;"><span class="icon-power-off"></span>Logout</a></li>
            <li class="divider"></li>          
          </ul>
        </section><!-- .top-bar-section -->

        <!-- Left Nav -->
        <section class="top-bar-section">
          <ul class="left">
            <li class="active"><a href="javascript:;">Usage</a></li>
            <li class="divider"></li>
            <li><a href="javascript:;">Operation</a></li>
            <li class="divider"></li>
            <li><a href="javascript:;">Profile</a></li>
            <li class="divider"></li>
            <li><a href="javascript:;">History</a></li>
            <li class="divider"></li>
            <li><a href="javascript:;">Correlate</a></li>
            <li class="divider"></li>
            <li><a href="javascript:;" title="Export the current view."><span class="icon-download"></span>Export</a></li>
            <li class="divider"></li>
            <li><a href="javascript:;" title="Open a copy of this app in a new window or tab."><span class="icon-clone"></span>Copy</a></li>
            <li class="divider"></li>
            <li><a href="javascript:;" title="Go to the Project's Home page."><span class="icon-ellipsis-h"></span>More</a></li>
          </ul>
        </section><!-- .top-bar-section -->      

      </nav>

    </div><!-- .fixed -->

    <!-- Main navigation modals here -->
    <!-- User Settings -->
    <div id="user_settings" class="reveal-modal small" data-reveal aria-labelledby="User Settings" aria-hidden="true" role="dialog">
      <h2 id="modalTitle">Account Settings</h2>
      <p>Update the account setting for John Smith</p>
      <hr/>

      <form>

        <div class="row clearfix current_password">
          <div class="small-3 columns">
            <label for="current_pass" class="inline">Current Password</label>
          </div>
          <div class="small-9 columns">
            <!-- Lets do the posfix here -->
            <div class="row collapse">
              <div class="small-10 columns">
                <input id="current_pass" type="password" value="ABCD123456">
              </div>
              <div class="small-2 columns">
                <a id="toggle_current_pass" ref="javascript:;" class="button secondary postfix">Show</a>
              </div>
            </div>
          </div>
        </div><!-- .current_passwprd -->

        <div class="row clearfix new_password">
          <div class="small-3 columns">
            <label for="new_pass" class="inline">New Password</label>
          </div>
          <div class="small-9 columns">
            <!-- Lets do the posfix here -->
            <div class="row collapse">
              <div class="small-10 columns">
                <input id="new_pass" type="text" value="">
              </div>
              <div class="small-2 columns">
                <a id="toggle_new_pass" href="javascript:;" class="button secondary postfix">Hide</a>
              </div>
            </div>
          </div>
        </div><!-- .new_password -->

        <!-- Password rules -->
        <div class="row clearfix password_rules">
          <div class="small-9 columns small-offset-3">
            <ul class="no-bullet">
              <li>
                <span id="field_not_blank" class="icon-checkmark2 success-icon"></span>
                <small>Leave blank to keep your current password</small>
              </li>
              <li>
                <span id="field_length" class="icon-checkmark2 idle-icon"></span>
                <small>Must be at least 6 characters long</small>
              </li>
              <li>
                <span id="field_has_num" class="icon-checkmark2 idle-icon"></span>
                <small>Must contain at least one number</small>
              </li>              
            </ul>
          </div>
        </div> <!-- .password_rules -->

        <!-- Locale -->
        <div class="row clearfix locale">
          <div class="small-3 columns">
            <label for="locale" class="inline">Locale</label>
          </div>
          <div class="small-9 columns">
            <select id="locale">
              <option value="en-US">en-US</option>
              <option value="en">en</option>
              <option value="ja">ja</option>
            </select>
          </div>
        </div>    

      </form>

      <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </div><!-- #user-settings -->

    <!-- Page Title -->
    <div class="full-width clearfix">
      <h4 class="text-center vertical-space">
      <span class="normal-weight">Daily Average • Elec (kW) • Normalize by Area, Degree-Day •</span>
        No Baseline • <span class="normal-weight">All Days</span>
      </h4>
    </div><!-- .full-width -->

    <!-- Input field for query -->
    <div class="full-width vertical-space clearfix">
      <div class="row collapse">
        <div class="postfix-radius">
          <div class="small-11 columns">
            <label>
              <input type="text" id="query" placeholder=">_ Enter custom query parameters to filter the results ">
            </label>
          </div>
          <div class="small-1 columns">
              <a href="javascript:;" class="postfix button success">Run Query</a>
          </div>
        </div>
      </div><!-- .row collapse -->
    </div><!-- .full-width --> 

    <!-- Output the report -->
    <div id="output_0" class="full-width vertical-space clearfix">

      <nav class="top-bar" data-topbar>
        
        <ul class="title-area">
          <li class="name">
            <h3>
                <span class="title"><span class="icon-terminal">&nbsp;</span> Some query parameter or data set here</span>
            </h3>
          </li>
        </ul>

        <!-- Right Nav -->
        <section class="top-bar-section">
          <ul class="right">
            <li>
              <a href="javascript:;" id="chart_toggle_btn_0" class="active">
                <span class="icon-stats-dots"></span>Chart
              </a>
            </li>
            <li>
              <a href="javascript:;" id="table_toggle_btn_0">
                <span class="icon-table"></span>Table
              </a>
            </li>
            <li>
              <a href="javascript:;" data-reveal-id="export_output_0"><span class="icon-download"></span>Export</a>
            </li>
            <li>
              <a href="javascript:;" id="hide_output_0">
                <span class="icon-angle-up"></span>Hide
              </a>
            </li>
            <li>
              <a href="javascript:;" id="show_output_0" style="display:none">
                <span class="icon-angle-down"></span>Show
              </a>
            </li>            
            <li>
              <a href="javascript:;" data-reveal-id="confirm_close_0" class="close">
                <span class="icon-close"></span>Close
              </a>
            </li>
          </ul>
        </section>

      </nav>

      <!-- Actual report data -->
      <div id="report_data_0">

        <div class="text-center" id="chart_0">
          <img src="img/bar_chart.png"/>
        </div>

        <div id="table_0" style="display:none">
          <div class="clearfix">
            <table role="grid">
              <thead>
                <tr>
                  <th>Site</th>
                  <th>Dec 2016</th>
                  <th>Nov 2016</th>
                  <th>Oct 2016</th>
                  <th>Sep 2016</th>
                  <th>Aug 2016</th>
                  <th>Jul 2016</th>
                  <th>Jun 2016</th>
                  <th>May 2016</th>
                  <th>Apr 2016</th>
                  <th>Mar 2016</th>
                  <th>Feb 2016</th>
                  <th>Jan 2016</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Lake Anna</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                </tr>
                <tr>
                  <td>Richmond</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                </tr>
                <tr>
                  <td>Chicago</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                </tr>
                <tr>
                  <td>McLean</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                </tr>
                <tr>
                  <td>Denver</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                </tr>
                 
              </tbody>
            </table>

          </div><!-- .full-width -->
        </div><!--  #table_0 -->
      </div><!-- #report_data -->


      <!-- Various modals four output_0 ######################################## -->

      <!-- Confirm closing the report -->
      <div id="confirm_close_0" class="reveal-modal tiny" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
        <h3 id="modalTitle">Are you sure?</h3>
        <hr/>
        <p>If you close this report, it will no longer be available on this page.</p>
        <div class="row clearfix">
          <div class="small-5 columns">
            <button id="cancel_destroy_0" class="secondary expand">Cancel</button>
          </div>
          <div class="small-5 columns">
            <button id="confirm_destroy_0" class="success expand ">Close it</button>
          </div>          
        </div>
        <p class="text-center">
          <small>To view the report again, simply rerun the query in the form field provided.</small>
        </p>
        <a class="close-reveal-modal" aria-label="Close">&#215;</a>
      </div><!-- #confirm_close_0 -->

      <!-- Export Modal -->
      <div id="export_output_0" class="reveal-modal tiny" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
        <h3 id="modalTitle">Export</h3>
        <p>
          <input type="text" value="someRandomReportName.extension">
        </p>
        <div class="row clearfix">
         <div class="small-12">
          <ul class="no-bullet">
            <li><span class="icon-radio-unchecked"></span>Format</li>
            <li><span class="icon-radio-unchecked"></span>Format</li>
            <li><span class="icon-radio-unchecked"></span>Format</li>
            <li><span class="icon-radio-unchecked"></span>Format</li>
            <li><span class="icon-radio-unchecked"></span>Format</li>
          </ul>
          <hr/>
          <div class="text-center">
            <a href="javascript:;" id="export_action_0" class="button small success">Export</a>
          </div>
         </div>
        </div>
        <a class="close-reveal-modal" aria-label="Close">&#215;</a>
      </div><!-- #confirm_close_0 -->            

    </div><!-- #output_0 -->  

    <!-- Output the report -->
    <div id="output_1" class="full-width vertical-space clearfix">

      <nav class="top-bar" data-topbar>
        
        <ul class="title-area">
          <li class="name">
            <h3>
                <span class="title"><span class="icon-terminal">&nbsp;</span>Some query parameter or data set here</span>
            </h3>
          </li>
        </ul>

        <!-- Right Nav -->
        <section class="top-bar-section">
          <ul class="right">
            <li>
              <a href="javascript:;" id="chart_toggle_btn_1" class="active">
                <span class="icon-stats-dots"></span>Chart
              </a>
            </li>
            <li>
              <a href="javascript:;" id="table_toggle_btn_1">
                <span class="icon-table"></span>Table
              </a>
            </li>
            <li>
              <a href="javascript:;" data-reveal-id="export_output_1"><span class="icon-download"></span>Export</a>
            </li>
            <li>
              <a href="javascript:;" id="hide_output_1">
                <span class="icon-angle-up"></span>Hide
              </a>
            </li>
            <li>
              <a href="javascript:;" id="show_output_1" style="display:none">
                <span class="icon-angle-down"></span>Show
              </a>
            </li>            
            <li>
              <a href="javascript:;" data-reveal-id="confirm_close_1" class="close">
                <span class="icon-close"></span>Close
              </a>
            </li>
          </ul>
        </section>

      </nav>

      <!-- Actual report data -->
      <div id="report_data_1">

        <div class="text-center" id="chart_1">
          <img src="img/bar_chart.png"/>
        </div>

        <div id="table_1" style="display:none">
          <div class="clearfix">
            <table role="grid">
              <thead>
                <tr>
                  <th>Site</th>
                  <th>Dec 2016</th>
                  <th>Nov 2016</th>
                  <th>Oct 2016</th>
                  <th>Sep 2016</th>
                  <th>Aug 2016</th>
                  <th>Jul 2016</th>
                  <th>Jun 2016</th>
                  <th>May 2016</th>
                  <th>Apr 2016</th>
                  <th>Mar 2016</th>
                  <th>Feb 2016</th>
                  <th>Jan 2016</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Lake Anna</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                  <td>456.5 KW</td>
                </tr>
                <tr>
                  <td>Richmond</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                  <td>653.7 KW</td>
                </tr>
                <tr>
                  <td>Chicago</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                  <td>945.2 KW</td>
                </tr>
                <tr>
                  <td>McLean</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                  <td>258.9 KW</td>
                </tr>
                <tr>
                  <td>Denver</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                  <td>426.7 KW</td>
                </tr>
                 
              </tbody>
            </table>

          </div><!-- .full-width -->
        </div><!--  #table_1 -->
      </div><!-- #report_data_1-->


      <!-- Various modals ######################################## -->

      <!-- Confirm closing the report -->
      <div id="confirm_close_1" class="reveal-modal tiny" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
        <h3 id="modalTitle">Are you sure?</h3>
        <hr/>
        <p>If you close this report, it will no longer be available on this page.</p>
        <div class="row clearfix">
          <div class="small-5 columns">
            <button id="cancel_destroy_1" class="secondary expand">Cancel</button>
          </div>
          <div class="small-5 columns">
            <button id="confirm_destroy_1" class="success expand ">Close it</button>
          </div>          
        </div>
        <p class="text-center">
          <small>To view the report again, simply rerun the query in the form field provided.</small>
        </p>
        <a class="close-reveal-modal" aria-label="Close">&#215;</a>
      </div><!-- #confirm_close_1 -->

      <!-- Export Modal -->
      <div id="export_output_1" class="reveal-modal tiny" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
        <h3 id="modalTitle">Export</h3>
        <p>
          <input type="text" value="someRandomReportName.extension">
        </p>
        <div class="row clearfix">
         <div class="small-12">
          <ul class="no-bullet">
            <li><span class="icon-radio-unchecked"></span>Format</li>
            <li><span class="icon-radio-unchecked"></span>Format</li>
            <li><span class="icon-radio-unchecked"></span>Format</li>
            <li><span class="icon-radio-unchecked"></span>Format</li>
            <li><span class="icon-radio-unchecked"></span>Format</li>
          </ul>
          <hr/>
          <div class="text-center">
            <a href="javascript:;" id="export_action_1" class="button small success">Export</a>
          </div>
         </div>
        </div>
        <a class="close-reveal-modal" aria-label="Close">&#215;</a>
      </div><!-- #confirm_close_1 -->            

    </div><!-- #output_1 -->

<!-- CLEAN +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->  



<!-- JS ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->    

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
    <script src="bower_components/foundation/js/foundation.min.js"></script>
    <script src="bower_components/foundation/js/foundation/foundation.reveal.js"></script>
    <script src="bower_components/foundation/js/foundation/foundation.tooltip.js"></script>
    <script>
      $(document).foundation();
    </script>

    <script type="text/javascript">

      // Highlight selected table row
      $("tbody tr").on('click', function() {
          $(this).addClass('selected').siblings().removeClass('selected');
      });

      // Show/ hide passwords
      $('#toggle_current_pass').on('click', function() {
          type = $('#current_pass').attr('type');        
          if (type == 'password') {
            $('#current_pass').attr('type','text');
            $(this).text('Hide');
          } else {
            $('#current_pass').attr('type','password');
            $(this).text('Show');
          }
      }); 
      $('#toggle_new_pass').on('click', function() {
          type = $('#new_pass').attr('type');        
          if (type == 'password') {
            $('#new_pass').attr('type','text');
            $(this).text('Hide');
          } else {
            $('#new_pass').attr('type','password');
            $(this).text('Show');
          }
      }); 

      // Count passwork chars
      $('#new_pass').keyup(function () {
        
        var val = $(this).val();
        var len = $(this).val().length;
        var matches_num = val.match(/\d+/g);

        var min_char = 6;

        // Error everythign if one char is entered
        if (len !='' && len > 0) {
          $('#field_not_blank').removeClass('success-icon').addClass('idle-icon');
          $('#field_length,#field_has_num')
            .removeClass('success-icon').removeClass('idle-icon').addClass('alert-icon');
        }        
        // Do I have 6 or more chars?
        if (len < min_char && (len != 0 || len !='')) {
          $('#field_length').removeClass('idle-icon').addClass('alert-icon');
        } else {
          $('#field_length').removeClass('idle-icon').removeClass('alert-icon').addClass('success-icon');
        }
        // Do I have numbers
        if (matches_num == null && len !=0) {
          $('#field_has_num').removeClass('success-icon').removeClass('idle-icon').addClass('alert-icon');
        } else {
          $('#field_has_num').removeClass('idle-icon').removeClass('alert-icon').addClass('success-icon');
        }

        // Reset everything
        if (len == 0) {
          $('#field_not_blank').removeClass('idle-icon').addClass('success-icon');
          $('#field_length,#field_has_num')
            .removeClass('success-icon,alert-icon').addClass('idle-icon')
        }


      });

      // Animations 
      duration = 250;
      durationLong = 450

      //toggle chart
      function toggleChart(viewID){
        $( "#chart_toggle_btn_" + viewID ).on('click', function() {
          $("#table_" + viewID ).hide();
          $("#table_toggle_btn_" + viewID).removeClass('active');
          $("#chart_" + viewID ).show();
          $(this).addClass('active');
        });        
      }

      //toggle table
      function toggleTable(viewID){
        $( "#table_toggle_btn_" + viewID ).on('click', function() {
          $("#chart_" + viewID ).hide();
          $("#chart_toggle_btn_" + viewID).removeClass('active');
          $("#table_" + viewID ).show();
          $(this).addClass('active');
        });        
      }

      // Destroy any given output on CLOSE
      function destroyOutput(viewID) {
        $( "#confirm_destroy_" + viewID).on('click', function() {
          $('#confirm_close_' + viewID).foundation('reveal', 'close');
          $("#output_" + viewID ).slideUp(duration);
          setTimeout(function() {$("#output_" + viewID ).remove();}, durationLong);
        });         
      } 
      // Cancel the modal to Destroy
      function cancelDestroyOutput(viewID) {
        $( "#cancel_destroy_" + viewID).on('click', function() {
          $('#confirm_close_' + viewID).foundation('reveal', 'close');
        });         
      } 

      // Hide any given view on HIDE
      function hideOutput(viewID) {
        $( "#hide_output_" + viewID).on('click', function() {
          $('#report_data_' + viewID).slideUp(duration);
          $(this).hide();
          $('#show_output_' + viewID).show();
        });         
      }                  
      // Show any given view on SHOW
      function showOutput(viewID) {
        $( "#show_output_" + viewID).on('click', function() {
          $('#report_data_' + viewID).slideDown(duration);
          $(this).hide();
          $('#hide_output_' + viewID).show();
        });         
      } 

      // Export Modal triggers
      function exportOutput(viewID) {
        $( "#export_action_" + viewID).on('click', function() {
          $('#export_output_' + viewID).foundation('reveal', 'close');
        });         
      } 

      // How many reports are on the page
      reports = $('[id^=output_]').length;
      console.log(reports + " reports");

      // Now we know how many reports we have, loop through them for consistent functionality
      for (var i = 0; i < reports; i++) {
        toggleChart(i);
        toggleTable(i);
        destroyOutput(i);
        cancelDestroyOutput(i);
        hideOutput(i);         
        showOutput(i);
        exportOutput(i);         
      }  

    </script>


  </body>

</html>